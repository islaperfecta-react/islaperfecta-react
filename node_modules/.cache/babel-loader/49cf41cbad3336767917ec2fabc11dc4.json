{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\justo\\\\Desktop\\\\islaperfecta_react\\\\src\\\\App.js\";\nimport React from 'react';\nimport io from \"socket.io-client\";\nimport $ from \"jquery\";\nimport logo from \"./logo.svg\";\nimport './App.css';\nconst colors = ['red', 'green', 'blue', 'magenta', 'purple', 'plum', 'orange'];\n\nfunction Button(props) {\n  return /*#__PURE__*/React.createElement(\"label\", {\n    id: \"enviar\",\n    onClick: props.onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 12\n    }\n  }, \"\\u23E9\");\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: null,\n      color: colors[Math.floor(Math.random() * colors.length)],\n      uid: null,\n      messages: []\n    };\n    this.socket = io('localhost:8080');\n    this.socket.on('RECEIVE_MESSAGE', function (data) {\n      addMessage(data);\n    });\n\n    const addMessage = data => {\n      let result = data;\n\n      if (result.type == 'message') {\n        this.setState(state => {\n          const messages = [...state.messages, {\n            username: result.username,\n            message: result.message,\n            color: result.color,\n            timestamp: result.timestamp\n          }];\n          return {\n            messages\n          };\n        });\n      }\n\n      if (result.type == 'history') {\n        result.messageArray.map(message => this.setState(state => {\n          const messages = [{\n            username: message.username,\n            color: message.color,\n            message: message.message,\n            timestamp: message.timestamp\n          }, ...state.messages];\n        }));\n      }\n    };\n\n    this.sendMessage = message => {\n      if (this.state.username === null) {\n        this.setState({\n          username: message\n        });\n      } else {\n        this.socket.emit('SEND_MESSAGE', {\n          username: this.state.username,\n          color: this.state.color,\n          message: message,\n          timestamp: Date.now(),\n          type: 'message'\n        }, function (answer) {});\n      }\n    };\n\n    this.handleKeyDown = e => {\n      if (e.keyCode === 13) {\n        this.sendMessage(e.target.value);\n        $('#msg_input').value = '';\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 5\n      }\n    }, this.state.messages.map(message => /*#__PURE__*/React.createElement(\"p\", {\n      key: \"message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"font\", {\n      color: message.color,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 26\n      }\n    }, message.username), \": \", message.message))), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"msg_input\",\n      type: \"text\",\n      onKeyDown: this.handleKeyDown,\n      placeholder: \"Enter your username...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.sendMessage(document.getElementById('msg_input').value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 5\n      }\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/justo/Desktop/islaperfecta_react/src/App.js"],"names":["React","io","$","colors","Button","props","onClick","App","Component","constructor","state","username","color","Math","floor","random","length","uid","messages","socket","on","data","addMessage","result","type","setState","message","timestamp","messageArray","map","sendMessage","emit","Date","now","answer","handleKeyDown","e","keyCode","target","value","render","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport io from \"socket.io-client\";\nimport $ from \"jquery\";\nimport logo from './logo.svg';\nimport './App.css';\nconst colors = [ 'red', 'green', 'blue', 'magenta', 'purple', 'plum', 'orange' ];\n\nfunction Button(props){\n    return(<label id=\"enviar\" onClick={props.onClick}>‚è©</label>);\n}\nclass App extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      username: null,\n      color: colors[ Math.floor( Math.random() * colors.length )],\n      uid: null,\n      messages: []\n    }\n\n  this.socket = io('localhost:8080');\n\n  this.socket.on('RECEIVE_MESSAGE', function(data){\n      addMessage(data);\n  });\n\n  const addMessage = data => {\n    let result = data;\n    if(result.type == 'message'){\n    this.setState(state => {\n      const messages = [...state.messages, {\n        username: result.username,\n        message: result.message,\n        color: result.color,\n        timestamp: result.timestamp,\n      }]\n      return{\n        messages,\n      }\n    })\n  }\n    if(result.type == 'history'){\n        result.messageArray.map(message =>\n          this.setState( state => {\n            const messages = [{\n              username: message.username,\n              color: message.color,\n              message: message.message,\n              timestamp: message.timestamp,\n            }, ...state.messages]\n          })\n      )}\n    }\n\n    this.sendMessage = (message) => {\n        if(this.state.username === null){\n          this.setState({username: message});\n        }\n        else{\n          this.socket.emit('SEND_MESSAGE', {\n              username: this.state.username,\n              color: this.state.color,\n              message: message,\n              timestamp: Date.now(),\n              type: 'message',\n          }, function(answer){});\n      }\n\n    }\n\n    this.handleKeyDown = (e) => {\n      if(e.keyCode === 13){\n        this.sendMessage(e.target.value);\n        $('#msg_input').value = '';\n      }\n    }\n}\n  render (){\n    return(\n      <React.Fragment>\n    <div class=\"content\">\n      {this.state.messages.map(message =>\n        <p key=\"message\"><font color={message.color}>{message.username}</font>\n      : { message.message }</p>\n    )}\n</div>\n      <input id=\"msg_input\" type=\"text\" onKeyDown={this.handleKeyDown} placeholder=\"Enter your username...\" />\n    <Button onClick={() => this.sendMessage(document.getElementById('msg_input').value)}/>\n</React.Fragment>\n\n  )}\n\n  }\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}